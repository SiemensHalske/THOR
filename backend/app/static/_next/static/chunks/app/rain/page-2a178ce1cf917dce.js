(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7542],{89359:function(e,t,a){Promise.resolve().then(a.bind(a,64009))},64009:function(e,t,a){"use strict";a.r(t);var r=a(57437),n=a(2265),i=a(37346),o=a(55211),l=a(66174),s=a.n(l);o.kL.register(o.uw,o.f$,o.od,o.jn,o.Dx,o.u,o.De);let c=async(e,t)=>{let a=await fetch("".concat(e,"?").concat(new URLSearchParams(t)));if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));return a.json()};t.default=()=>{let[e,t]=(0,n.useState)(null),[a,o]=(0,n.useState)(null),[l,d]=(0,n.useState)("51.73929"),[u,g]=(0,n.useState)("8.2509"),h=(0,n.useCallback)(async()=>{try{let e={latitude:l,longitude:u,hourly:"rain,windspeed_10m,winddirection_10m"};console.log("Fetching data with params:",e);let a=await c("https://api.open-meteo.com/v1/forecast",e);if(!a||!a.hourly)throw console.error("Ung\xfcltige API-Antwort:",a),Error("Ung\xfcltige API-Antwort");let r=a.hourly,n={hourly:{time:r.time.map(e=>new Date(e)),rain:r.rain,windSpeed10m:r.windspeed_10m,windDirection10m:r.winddirection_10m}};t(n)}catch(e){console.error("Fetch error:",e),o(e.message)}},[l,u]);if((0,n.useEffect)(()=>{h()},[h]),a)return(0,r.jsx)("p",{className:s().error,children:a});if(!e)return(0,r.jsx)("p",{className:s().loading,children:"Daten werden geladen..."});let{time:p,rain:_,windSpeed10m:m,windDirection10m:y}=e.hourly,w={labels:p.map(e=>e.toLocaleString()),datasets:[{label:"Regen (mm)",data:_,borderColor:"blue",backgroundColor:"lightblue",yAxisID:"y1"},{label:"Windgeschwindigkeit (m/s)",data:m,borderColor:"green",backgroundColor:"lightgreen",yAxisID:"y2"},{label:"Windrichtung (\xb0)",data:y,borderColor:"red",backgroundColor:"lightcoral",yAxisID:"y3"}]};return(0,r.jsxs)("div",{className:s().container,children:[(0,r.jsx)("h1",{className:s().title,children:"Niederschlagsradar"}),(0,r.jsxs)("div",{className:s().controls,children:[(0,r.jsx)("input",{type:"text",placeholder:"Latitude",value:l,onChange:e=>d(e.target.value),className:s().input}),(0,r.jsx)("input",{type:"text",placeholder:"Longitude",value:u,onChange:e=>g(e.target.value),className:s().input}),(0,r.jsx)("button",{className:s().button,onClick:()=>{h()},children:"Daten abrufen"})]}),(0,r.jsx)("div",{className:s().chartContainer,children:(0,r.jsx)(i.x1,{data:w,options:{responsive:!0,interaction:{mode:"index",intersect:!1},stacked:!1,plugins:{title:{display:!0,text:"Wetterdaten"}},scales:{x:{ticks:{autoSkip:!0,maxTicksLimit:10,callback:function(e,t,a){let r=new Date(p[e]);return 0===r.getHours()?r.toLocaleDateString():0===r.getHours()?r.toLocaleDateString():""}}},y1:{type:"linear",display:!0,position:"left"},y2:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1}},y3:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1}}}}})})]})}},66174:function(e){e.exports={container:"RadarPage_container__9W8kE",title:"RadarPage_title__njBjZ",controls:"RadarPage_controls__KfYSN",input:"RadarPage_input__l4iKh",button:"RadarPage_button__nvm7M",chartContainer:"RadarPage_chartContainer__fLW85",loading:"RadarPage_loading__Aj4oa",error:"RadarPage_error___OLZI"}}},function(e){e.O(0,[2786,7674,5746,2971,7023,1744],function(){return e(e.s=89359)}),_N_E=e.O()}]);